<view class="ai-knowledge-container">
  <view class="header">
    <text class="title">AI知识库</text>
    <view wx:if="{{isLoading}}" class="loading-indicator">
      <text class="loading-text">加载中...</text>
    </view>
  </view>
  
  <!-- 加载状态 -->
  <view wx:if="{{isLoading && webviewUrl}}" class="loading-container">
    <view class="loading-content">
      <text class="loading-message">正在加载AI知识库...</text>
      <text class="loading-url">{{webviewUrl}}</text>
    </view>
  </view>
  
  <!-- 错误状态 -->
  <view wx:if="{{hasError}}" class="error-container">
    <view class="error-content">
      <text class="error-title">⚠️ 加载失败</text>
      <text class="error-message">{{errorMessage}}</text>
      <text class="error-url">URL: {{webviewUrl}}</text>
      <button class="retry-button" bind:tap="onReloadTap">重新加载</button>
    </view>
  </view>
  
  <!-- WebView -->
  <web-view 
    wx:if="{{webviewUrl && !hasError}}"
    class="knowledge-webview" 
    src="{{webviewUrl}}"
    bindload="onWebViewLoad"
    binderror="onWebViewError">
  </web-view>
  
  <!-- 无URL状态 -->
  <view wx:if="{{!webviewUrl}}" class="no-url-container">
    <view class="no-url-content">
      <text class="no-url-title">⚠️ 配置错误</text>
      <text class="no-url-message">未找到AI知识库地址配置</text>
    </view>
  </view>
</view>