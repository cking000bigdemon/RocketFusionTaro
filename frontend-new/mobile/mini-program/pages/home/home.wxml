<!--pages/home/home.wxml-->
<view class="ai-home-container">
  <view class="ai-hero-section">
    <view class="ai-brand-wrapper">
      <view class="ai-logo">
        <view class="ai-logo-icon"></view>
      </view>
      <view class="ai-brand-content">
        <text class="ai-brand-title">AI AGENT NOW!</text>
        <text class="ai-brand-subtitle">AI时代不掉队，从现在开始！</text>
      </view>
    </view>
  </view>

  <view class="ai-user-card" wx:if="{{isLoggedIn}}">
    <view class="ai-user-info">
      <view class="ai-avatar">
        <image wx:if="{{userInfo.avatar_url}}" class="ai-avatar-image" src="{{userInfo.avatar_url}}" mode="aspectFill" />
        <text wx:else class="ai-avatar-text">{{(userInfo.display_name || userInfo.username).substr(0,1).toUpperCase()}}</text>
      </view>
      <view class="ai-user-details">
        <text class="ai-user-name">欢迎，{{userInfo.display_name || userInfo.username}}</text>
        <text class="ai-user-status">AI助手已就绪</text>
      </view>
    </view>
    <view class="ai-status-indicator"></view>
  </view>

  <view class="ai-features-grid">
    <view class="ai-feature-card" bindtap="navigateToChat">
      <view class="ai-feature-icon ai-icon-chat">
        <text class="ai-icon-text">🤖</text>
      </view>
      <text class="ai-feature-title">AI对话</text>
      <text class="ai-feature-desc">智能助手随时为您服务</text>
    </view>
    
    <view class="ai-feature-card" bindtap="navigateToTools">
      <view class="ai-feature-icon ai-icon-tools">
        <text class="ai-icon-text">⚡</text>
      </view>
      <text class="ai-feature-title">智能工具</text>
      <text class="ai-feature-desc">效率工具一站式体验</text>
    </view>
    
    <view class="ai-feature-card" bindtap="navigateToProfile">
      <view class="ai-feature-icon ai-icon-profile">
        <text class="ai-icon-text">👤</text>
      </view>
      <text class="ai-feature-title">个人中心</text>
      <text class="ai-feature-desc">管理个人信息和偏好</text>
    </view>
    
    <view class="ai-feature-card" bindtap="navigateToHelp">
      <view class="ai-feature-icon ai-icon-help">
        <text class="ai-icon-text">💡</text>
      </view>
      <text class="ai-feature-title">帮助中心</text>
      <text class="ai-feature-desc">使用指南和常见问题</text>
    </view>
  </view>

  <view class="ai-quick-actions">
    <button class="ai-quick-btn ai-btn-primary" bindtap="quickStartChat">
      立即开始AI对话
    </button>
  </view>
</view>

<!-- 完善个人资料弹窗 -->
<view class="profile-prompt-modal" wx:if="{{showProfilePrompt}}">
  <view class="modal-mask" catchtap="onProfilePromptCancel"></view>
  <view class="modal-content">
    <view class="modal-header">
      <text class="modal-title">完善个人资料</text>
    </view>
    <view class="modal-body">
      <view class="prompt-icon">👤</view>
      <text class="prompt-text">获取您的微信头像和昵称，让个人资料更完整</text>
      <view class="prompt-tips">
        <text class="tips-item">• 更好的个性化体验</text>
        <text class="tips-item">• 方便其他用户识别</text>
        <text class="tips-item">• 完全可选，随时可设置</text>
      </view>
    </view>
    <view class="modal-footer">
      <button class="modal-btn cancel-btn" bindtap="onProfilePromptCancel">取消</button>
      <button class="modal-btn confirm-btn" bindtap="onProfilePromptConfirm">获取资料</button>
    </view>
  </view>
</view>