import { useUncontrolled } from "@taroify/hooks/index.js";
import * as React from "react";
import Picker from "../picker/index.js";
import useDatetimePicker from "./use-datetime-picker.js";
function DatetimePicker(props) {
    const { className, readonly, loading, type, fields, filter, formatter, min, max, defaultValue: defaultValueProp, value: valueProp, siblingCount, children, onChange: onChangeProp, onConfirm, onCancel, ...restProps } = props;
    const { value: dateValue, setValue: setDateValue } = useUncontrolled({
        value: valueProp,
        onChange: onChangeProp,
    });
    const { defaultValue, value, columns, toDate } = useDatetimePicker({
        defaultValue: defaultValueProp,
        value: dateValue,
        min,
        max,
        type,
        fields,
        filter,
        formatter,
    });
    return (React.createElement(Picker, { className: className, readonly: readonly, loading: loading, siblingCount: siblingCount, defaultValue: defaultValue, value: value, onChange: (aValue) => setDateValue(toDate(aValue)), onConfirm: (aValue) => onConfirm?.(toDate(aValue)), onCancel: (aValue) => onCancel?.(toDate(aValue)), ...restProps },
        children,
        React.createElement(Picker.Columns, { children: columns })));
}
export default DatetimePicker;
