import { ItemType } from "./pagination.shared.js";
export function makePages(count) {
    const range = (start, end) => {
        const length = end - start + 1;
        return Array.from({ length }, (_, i) => start + i);
    };
    return range(1, count).map((page) => ({
        page,
        type: ItemType.Page,
    }));
}
export function usePagination(options) {
    const { current = 1, limit = 10, total = 60 } = options ?? {};
    const count = Math.ceil(total / limit);
    const hasPrevious = current > 1;
    const hasNext = current < count;
    const pageItems = makePages(count);
    const items = [
        {
            page: Number.MIN_SAFE_INTEGER,
            type: ItemType.Previous,
        },
        ...pageItems,
        {
            page: Number.MAX_SAFE_INTEGER,
            type: ItemType.Next,
        },
    ];
    return {
        hasPrevious,
        hasNext,
        count,
        items,
    };
}
