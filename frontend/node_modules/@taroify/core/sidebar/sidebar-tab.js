import { View } from "@tarojs/components";
import classNames from "classnames";
import * as React from "react";
import { useCallback, useContext } from "react";
import Badge from "../badge/index.js";
import SidebarContext from "../sidebar/sidebar.context.js";
import { prefixClassname } from "../styles/index.js";
function SidebarTabContent(props) {
    const { badge, children } = props;
    return (React.createElement(Badge, { className: prefixClassname("sidebar-tab__content"), children: children, content: badge }));
}
function SidebarTab(props) {
    const { value, className, disabled, badge, children, onClick, ...restProps } = props;
    const { value: activeValue, onTabClick } = useContext(SidebarContext);
    const active = activeValue === value;
    const handleClick = useCallback((event) => {
        onClick?.(event);
        onTabClick?.({ value, disabled, children });
    }, [children, disabled, onClick, onTabClick, value]);
    return (React.createElement(View, { className: classNames(prefixClassname("sidebar-tab"), {
            [prefixClassname("sidebar-tab--active")]: active,
            [prefixClassname("sidebar-tab--disabled")]: disabled,
        }, className), onClick: handleClick, ...restProps },
        React.createElement(SidebarTabContent, { badge: badge, children: children })));
}
export default SidebarTab;
