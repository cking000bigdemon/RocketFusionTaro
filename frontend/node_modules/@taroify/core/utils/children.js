import _isArray from "lodash/isArray";
import _first from "lodash/first";
import _forEach from "lodash/forEach";
import _map from "lodash/map";
import { Children as ReactChildren } from "react";
import { isObjectElement } from "./validate/index.js";
function isObjectChildren(children) {
    if (!_isArray(children)) {
        return false;
    }
    const node = _first(children);
    return isObjectElement(node);
}
function forEachChildren(children, fn) {
    const objectified = isObjectChildren(children);
    const forEach = objectified ? _forEach : ReactChildren.forEach;
    return forEach(children, fn);
}
function mapChildren(children, fn) {
    const objectified = isObjectChildren(children);
    const map = objectified ? _map : ReactChildren.map;
    return map(children, fn);
}
const Children = {
    toArray: ReactChildren.toArray,
    forEach: forEachChildren,
    map: mapChildren,
};
export default Children;
