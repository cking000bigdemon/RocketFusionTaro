import{_ as R}from"./_plugin-vue_export-helper-BwE83l92.js";import{l as z,c as h,al as U,ah as W,m as v,q as n,t as l,H as t,C as Y,I as j,u as k,B as e,G as $,Y as q,A as c,D,E as I,F as C,r as N,d as ce,J as re,a8 as m,T as ie,am as de}from"./vue-vendor-CvPKWCuE.js";import{a as T,u as ue}from"./index-C1UAl2ua.js";/* empty css                  *//* empty css                     */import{a3 as _e,a4 as me,S as G,W as b,a5 as pe,a6 as fe,V as he,a7 as ve,a8 as be,o as ye,a9 as ge,aa as we,ab as xe,ac as Se,ad as Ee,M as ke,ae as Ce,af as Ae,ag as Me,ah as Be,ai as Fe,aj as $e}from"./element-plus-CWGZaCRY.js";/* empty css                        *//* empty css                  */const De={class:"admin-sidebar"},Ie={class:"sidebar-logo"},Re={class:"logo-content"},ze={class:"logo-text"},Te=z({__name:"AdminSidebar",setup(H){const f=U(),y=W(),p=T(),i=h(()=>f.path),g=h(()=>y.getRoutes().filter(o=>{var _,u,d;return((_=o.meta)==null?void 0:_.title)&&!((u=o.meta)!=null&&u.hideInMenu)&&((d=o.meta)==null?void 0:d.requiresAuth)!==!1&&o.path!=="/"}).map(o=>{if(o.children&&o.children.length>0){const _=o.children.filter(u=>{var d,w;return((d=u.meta)==null?void 0:d.title)&&!((w=u.meta)!=null&&w.hideInMenu)});if(_.length>0)return{...o,children:_}}return o})),A=o=>{o!==f.path&&y.push(o)};return(o,_)=>{const u=G,d=pe,w=fe,B=me,V=_e;return n(),v("div",De,[l("div",Ie,[l("div",Re,[_[0]||(_[0]=l("div",{class:"logo-icon"},"🚀",-1)),Y(l("div",ze," Rocket Admin ",512),[[j,!k(p).sidebarCollapsed]])])]),t(V,{class:"sidebar-menu-scrollbar"},{default:e(()=>[t(B,{"default-active":i.value,class:"sidebar-menu",collapse:k(p).sidebarCollapsed,"unique-opened":!0,router:"",onSelect:A},{default:e(()=>[(n(!0),v($,null,q(g.value,r=>(n(),v($,{key:r.path},[r.children?(n(),c(w,{key:1,index:r.path,class:"sub-menu"},{title:e(()=>{var a,s;return[(a=r.meta)!=null&&a.icon?(n(),c(u,{key:0},{default:e(()=>[(n(),c(I(r.meta.icon)))]),_:2},1024)):D("",!0),l("span",null,b((s=r.meta)==null?void 0:s.title),1)]}),default:e(()=>[(n(!0),v($,null,q(r.children,a=>(n(),c(d,{key:a.path,index:a.path,class:"menu-item"},{title:e(()=>{var s;return[C(b((s=a.meta)==null?void 0:s.title),1)]}),default:e(()=>{var s;return[(s=a.meta)!=null&&s.icon?(n(),c(u,{key:0},{default:e(()=>[(n(),c(I(a.meta.icon)))]),_:2},1024)):D("",!0)]}),_:2},1032,["index"]))),128))]),_:2},1032,["index"])):(n(),c(d,{key:0,index:r.path,class:"menu-item"},{title:e(()=>{var a;return[C(b((a=r.meta)==null?void 0:a.title),1)]}),default:e(()=>{var a;return[(a=r.meta)!=null&&a.icon?(n(),c(u,{key:0},{default:e(()=>[(n(),c(I(r.meta.icon)))]),_:2},1024)):D("",!0)]}),_:2},1032,["index"]))],64))),128))]),_:1},8,["default-active","collapse"])]),_:1})])}}}),He=R(Te,[["__scopeId","data-v-b600a3e0"]]),Ve={class:"admin-header"},Le={class:"header-left"},qe={class:"header-right"},Ne={class:"system-status"},Ue={class:"status-indicator"},We={class:"status-text"},Ye={class:"user-info"},je={class:"user-details"},Ge={class:"username"},Je=z({__name:"AdminHeader",setup(H){const f=U(),y=W(),p=ue(),i=T(),g=N(!1),A=N(!1),o=h(()=>{var a,s;return((s=(a=p.user)==null?void 0:a.username)==null?void 0:s.charAt(0).toUpperCase())||"A"}),_=h(()=>{const a=f.matched.filter(S=>{var E;return(E=S.meta)==null?void 0:E.title}),s=[];return f.path!=="/dashboard"&&s.push({title:"仪表板",path:"/dashboard"}),a.forEach(S=>{var E;(E=S.meta)!=null&&E.title&&s.push({title:S.meta.title,path:S.path})}),s}),u=h(()=>i.systemHealthy?"online":"offline"),d=h(()=>i.systemHealthy?"系统正常":"系统异常"),w=async()=>{g.value=!0;try{await i.refreshSystemData()}finally{g.value=!1}},B=()=>{document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()},V=async a=>{switch(a){case"profile":ke.info("个人资料功能开发中...");break;case"settings":y.push("/settings");break;case"logout":try{await Ee.confirm("确定要退出登录吗？","确认退出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await p.logout()}catch{}break}},r=()=>{A.value=window.innerWidth<=768};return ce(()=>{r(),window.addEventListener("resize",r)}),re(()=>{window.removeEventListener("resize",r)}),(a,s)=>{const S=m("Expand"),E=m("Fold"),x=G,F=he,J=Ce,K=ve,O=be,P=m("Refresh"),Q=m("Moon"),X=m("Sunny"),Z=m("FullScreen"),ee=we,te=m("ArrowDown"),ne=m("User"),L=Se,se=m("Setting"),ae=m("SwitchButton"),oe=xe,le=ge;return n(),v("div",Ve,[l("div",Le,[t(F,{type:"text",size:"large",class:"menu-toggle",onClick:k(i).toggleSidebar},{default:e(()=>[t(x,null,{default:e(()=>[k(i).sidebarCollapsed?(n(),c(S,{key:0})):(n(),c(E,{key:1}))]),_:1})]),_:1},8,["onClick"]),t(K,{class:"breadcrumb",separator:"/"},{default:e(()=>[(n(!0),v($,null,q(_.value,M=>(n(),c(J,{key:M.path,to:M.path},{default:e(()=>[C(b(M.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),l("div",qe,[l("div",Ne,[t(O,{content:d.value,placement:"bottom"},{default:e(()=>[l("div",Ue,[l("div",{class:ye(["status-dot",u.value])},null,2),l("span",We,b(d.value),1)])]),_:1},8,["content"])]),t(F,{type:"text",size:"large",class:"action-button",onClick:w,loading:g.value},{default:e(()=>[t(x,null,{default:e(()=>[t(P)]),_:1})]),_:1},8,["loading"]),t(F,{type:"text",size:"large",class:"action-button",onClick:k(i).toggleTheme},{default:e(()=>[t(x,null,{default:e(()=>[k(i).isDarkTheme?(n(),c(X,{key:1})):(n(),c(Q,{key:0}))]),_:1})]),_:1},8,["onClick"]),t(F,{type:"text",size:"large",class:"action-button",onClick:B},{default:e(()=>[t(x,null,{default:e(()=>[t(Z)]),_:1})]),_:1}),t(le,{class:"user-dropdown",onCommand:V},{dropdown:e(()=>[t(oe,null,{default:e(()=>[t(L,{command:"profile"},{default:e(()=>[t(x,null,{default:e(()=>[t(ne)]),_:1}),s[1]||(s[1]=C(" 个人资料 ",-1))]),_:1}),t(L,{command:"settings"},{default:e(()=>[t(x,null,{default:e(()=>[t(se)]),_:1}),s[2]||(s[2]=C(" 系统设置 ",-1))]),_:1}),t(L,{divided:"",command:"logout"},{default:e(()=>[t(x,null,{default:e(()=>[t(ae)]),_:1}),s[3]||(s[3]=C(" 退出登录 ",-1))]),_:1})]),_:1})]),default:e(()=>{var M;return[l("div",Ye,[t(ee,{size:36,class:"user-avatar"},{default:e(()=>[C(b(o.value),1)]),_:1}),Y(l("div",je,[l("div",Ge,b((M=k(p).user)==null?void 0:M.username),1),s[0]||(s[0]=l("div",{class:"user-role"},"管理员",-1))],512),[[j,!A.value]]),t(x,{class:"dropdown-arrow"},{default:e(()=>[t(te)]),_:1})])]}),_:1})])])}}}),Ke=R(Je,[["__scopeId","data-v-58535957"]]),Oe={class:"admin-footer"},Pe={class:"footer-content"},Qe={class:"copyright"},Xe={key:0,class:"version"},Ze=z({__name:"AdminFooter",setup(H){const f=T(),y=h(()=>new Date().getFullYear()),p=h(()=>{var i;return((i=f.systemConfig)==null?void 0:i.version)||"1.0.0"});return(i,g)=>(n(),v("div",Oe,[l("div",Pe,[l("span",Qe," © "+b(y.value)+" Rocket Admin. All rights reserved. ",1),p.value?(n(),v("span",Xe," Version "+b(p.value),1)):D("",!0)])]))}}),et=R(Ze,[["__scopeId","data-v-c36a6abb"]]),tt={class:"admin-layout"},nt={class:"main-content"},st="60px",at=z({__name:"AdminLayout",setup(H){const f=T(),y=h(()=>f.sidebarCollapsed?"64px":"260px");return(p,i)=>{const g=Me,A=Be,o=m("router-view"),_=Fe,u=$e,d=Ae;return n(),v("div",tt,[t(d,{class:"layout-container"},{default:e(()=>[t(g,{width:y.value,class:"layout-sidebar"},{default:e(()=>[t(He)]),_:1},8,["width"]),t(d,{class:"main-container"},{default:e(()=>[t(A,{height:st,class:"layout-header"},{default:e(()=>[t(Ke)]),_:1}),t(_,{class:"layout-main"},{default:e(()=>[l("div",nt,[t(o,null,{default:e(({Component:w,route:B})=>[t(ie,{name:"fade",mode:"out-in"},{default:e(()=>[(n(),c(de,null,[(n(),c(I(w),{key:B.path}))],1024))]),_:2},1024)]),_:1})])]),_:1}),t(u,{height:"50px",class:"layout-footer"},{default:e(()=>[t(et)]),_:1})]),_:1})]),_:1})])}}}),mt=R(at,[["__scopeId","data-v-f36399f1"]]);export{mt as default};
